require=function e(t,i,c){function n(r,s){if(!i[r]){if(!t[r]){var a="function"==typeof require&&require;if(!s&&a)return a(r,!0);if(o)return o(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[r]={exports:{}};t[r][0].call(l.exports,function(e){var i=t[r][1][e];return n(i||e)},l,l.exports,e,t,i,c)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<c.length;r++)n(c[r]);return n}({GameOver:[function(e,t,i){"use strict";cc._RF.push(t,"1fd6evXkgpOD4IPk36AwhFT","GameOver"),cc.Class({extends:cc.Component,properties:{scoreLabel:{default:null,type:cc.Label}},replay:function(){cc.director.loadScene("GameScene")},start:function(){var e=cc.sys.localStorage.getItem("Score");this.scoreLabel.string=e}}),cc._RF.pop()},{}],GameScene:[function(e,t,i){"use strict";cc._RF.push(t,"ccb16Ovb7JCYpRX1JFDxWMV","GameScene"),cc.Class({extends:cc.Component,properties:{player:{default:null,type:cc.Node},playJumpHeight:30,wall_width:80,is_right:!1,dici:{default:null,type:cc.Prefab},diciCount:0,diDur:140,gameTime:60,timeLable:{default:null,type:cc.Label},score:0,scoreLabel:{default:null,type:cc.Label},bg_music:{default:null,url:cc.AudioClip},jump_music:{default:null,url:cc.AudioClip},die_nusic:{default:null,url:cc.AudioClip}},listerner:function(){var e=this;this.node.on(cc.Node.EventType.TOUCH_START,e.touchStartCallBack,e.node)},newDici:function(){this.diciCount+=1;var e=cc.instantiate(this.dici);this.node.addChild(e);var t=parseInt(2*Math.random());e.rotationY=t>=.5?0:180,e.setPosition(this.diciPosition(t))},diciPosition:function(e){var t=0,i=0;return t=e>=.5?cc.winSize.width/2-this.wall_width:-cc.winSize.width/2+this.wall_width,i=this.diciCount<=8?cc.winSize.height/2-this.diDur*this.diciCount-this.diDur:cc.winSize.height/2-8*this.diDur-this.diDur,cc.p(t,i)},playerMoveRight:function(){var e=cc.moveTo(.2,cc.p(cc.winSize.width/2-this.wall_width,this.player.getPositionY())),t=cc.moveTo(.1,cc.p(cc.winSize.width/2-this.wall_width-30,this.player.getPositionY())),i=cc.sequence(t,e);this.is_right?this.player.runAction(i):this.player.runAction(e),this.is_right=!0,this.player.rotationY=180},playerMoveLeft:function(){var e=cc.moveTo(.2,cc.p(-cc.winSize.width/2+this.wall_width,this.player.getPositionY()));this.player.rotationY=0;var t=cc.moveTo(.1,cc.p(-cc.winSize.width/2+this.wall_width+30,this.player.getPositionY())),i=cc.sequence(t,e);this.is_right?this.player.runAction(e):this.player.runAction(i),this.is_right=!1},touchStartCallBack:function(e,t){var i=this.getComponent("GameScene"),c=e.touch._point,n=cc.winSize;cc.audioEngine.playEffect(i.jump_music,!1,.2),c.x>n.width/2?i.playerMoveRight():i.playerMoveLeft(),i.newDici(),i.score++,i.scoreLabel.string=i.score,cc.sys.localStorage.setItem("Score",i.score)},onLoad:function(){cc.director.preloadScene("GameOverScene"),cc.audioEngine.play(this.bg_music,!0),this.listerner(),this.player.setPosition(cc.p(-cc.winSize.width/2+this.wall_width,cc.winSize.height/2-150));for(var e=0;e<8;e++)this.newDici();this.schedule(function(){this.gameTime--,this.timeLable.string="倒计时:"+this.gameTime,this.gameTime<=0&&(cc.audioEngine.stopAll(),cc.audioEngine.playEffect(this.die_nusic,!1,.2),cc.director.loadScene("GameOverScene"))},1)},start:function(){}}),cc._RF.pop()},{}],indexScenes:[function(e,t,i){"use strict";cc._RF.push(t,"d3981fx85JPHImYKz09J10m","indexScenes"),cc.Class({extends:cc.Component,properties:{start_btn:{default:null,type:cc.Node}},onLoad:function(){var e=cc.scaleTo(.8,.9),t=cc.scaleTo(1,1),i=cc.sequence(e,t),c=cc.repeatForever(i);this.start_btn.runAction(c),this.start_btn.on(cc.Node.EventType.TOUCH_START,function(){cc.director.loadScene("GameScene")},this.node)},start:function(){}}),cc._RF.pop()},{}],player:[function(e,t,i){"use strict";cc._RF.push(t,"0b50ciru+FLgYQHGCDi5Gop","player"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],zhangai:[function(e,t,i){"use strict";cc._RF.push(t,"9b0e77hxjVBULVCIZain6nX","zhangai");var c=e("./player");cc.Class({extends:cc.Component,properties:{die_nusic:{default:null,url:cc.AudioClip}},onLoad:function(){this.setInputControl()},start:function(){},setInputControl:function(){var e=this,t={event:cc.EventListener.TOUCH_ONE_BY_ONE,onTouchBegan:function(t,i){var c=cc.moveBy(.2,cc.p(0,140));return e.node.runAction(c),!0}};cc.eventManager.addListener(t,e.node)},noteBox:function(){return this.node.getBoundingBoxToWorld()},update:function(e){var t=cc.find("Canvas/normal").getComponent(c);if(cc.rectIntersectsRect(t.node.getBoundingBoxToWorld(),this.noteBox()))return cc.audioEngine.stopAll(),cc.audioEngine.playEffect(this.die_nusic,!1,.2),void cc.director.loadScene("GameOverScene")}}),cc._RF.pop()},{"./player":"player"}]},{},["GameOver","GameScene","indexScenes","player","zhangai"]);